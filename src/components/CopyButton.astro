---
---

<button class="copy-button absolute top-2 right-2 bg-blue-500 text-white px-2 py-1 rounded text-sm opacity-0 transition-opacity duration-300 hover:bg-blue-600">
  Copy
</button>

<script>
  function addCopyFunctionality() {
    const blockquotes = document.querySelectorAll('blockquote');
    blockquotes.forEach((blockquote, index) => {
      const button = document.createElement('button');
      button.innerHTML = 'Copy';
      button.className = 'copy-button absolute top-2 right-2 bg-blue-500 text-white px-2 py-1 rounded text-sm opacity-0 transition-opacity duration-300 hover:bg-blue-600';
      button.setAttribute('data-index', index.toString());
      blockquote.style.position = 'relative';
      blockquote.appendChild(button);
    });

    document.addEventListener('click', (e) => {
      const target = e.target as HTMLElement;
      if (target && target.classList.contains('copy-button')) {
        const button = target as HTMLButtonElement;
        const index = button.getAttribute('data-index');
        const blockquote = document.querySelectorAll('blockquote')[parseInt(index)];
        const text = blockquote.textContent;
        
        navigator.clipboard.writeText(text).then(() => {
          button.innerHTML = 'Copied!';
          setTimeout(() => {
            button.innerHTML = 'Copy';
          }, 2000);
        }).catch(err => {
          console.error('Failed to copy text: ', err);
        });
      }
    });
  }

  // Run the function when the DOM is fully loaded
  document.addEventListener('DOMContentLoaded', addCopyFunctionality);
</script>

<style>
  blockquote:hover .copy-button {
    opacity: 1;
  }
</style>
