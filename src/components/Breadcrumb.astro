---
/**
 * Breadcrumb Navigation Component
 * Displays hierarchical navigation path for better UX and SEO
 */
interface BreadcrumbItem {
  name: string;
  href: string | undefined;
}

interface Props {
  items: BreadcrumbItem[];
}

const { items } = Astro.props;
---

{items.length > 1 && (
  <nav class="breadcrumb-nav" aria-label="Breadcrumb">
    <ol class="breadcrumb-list" itemscope itemtype="https://schema.org/BreadcrumbList">
      {items.map((item, index) => (
        <li
          class="breadcrumb-item"
          itemprop="itemListElement"
          itemscope
          itemtype="https://schema.org/ListItem"
        >
          <meta itemprop="position" content={String(index + 1)} />

          {index < items.length - 1 ? (
            <>
              <a href={item.href} class="breadcrumb-link" itemprop="item">
                <span itemprop="name">{item.name}</span>
              </a>
              <svg
                class="breadcrumb-separator"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 5l7 7-7 7"
                />
              </svg>
            </>
          ) : (
            <span class="breadcrumb-current" itemprop="name">{item.name}</span>
          )}
        </li>
      ))}
    </ol>
  </nav>
)}

<style>
  .breadcrumb-nav {
    @apply py-4 px-4 mb-4;
  }

  .breadcrumb-list {
    @apply flex items-center flex-wrap gap-2 text-sm;
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .breadcrumb-item {
    @apply flex items-center gap-2;
  }

  .breadcrumb-link {
    @apply text-purple-600 hover:text-purple-700 transition-colors duration-200;
    text-decoration: none;
  }

  .breadcrumb-link:hover {
    text-decoration: underline;
  }

  .breadcrumb-separator {
    @apply w-4 h-4 text-gray-400;
    flex-shrink: 0;
  }

  .breadcrumb-current {
    @apply text-gray-700 font-medium;
  }
</style>
